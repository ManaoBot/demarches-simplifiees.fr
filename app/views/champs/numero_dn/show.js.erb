dn = document.querySelector('#<%=@base_id%>numero_dn');
ddn = document.querySelector('#<%=@base_id%>date_de_naissance');
info = dn.parentElement.querySelector('.numero-dn-info');
info.innerHTML = "<%= escape_javascript(render partial: 'shared/champs/numero_dn/status', locals: { status: @status }) %>";
switch ('<%= @status %>') {
    case 'bad_dn':
        ddn.setCustomValidity("");
        dn.setCustomValidity("<%= t('messages.numero_dn.bad_dn') %>");
        break;
    case 'bad_dn_format':
        ddn.setCustomValidity("");
        dn.setCustomValidity("<%= t('messages.numero_dn.bad_dn_format') %>");
        break;
    case 'bad_ddn_format':
        dn.setCustomValidity("");
        ddn.setCustomValidity("<%= t('messages.numero_dn.bad_ddn_format') %>");
        break;
    case 'bad_ddn':
        dn.setCustomValidity("");
        ddn.setCustomValidity("<%= t('messages.numero_dn.bad_ddn') %>");
        break;
    case 'network_error':
        dn.setCustomValidity("");
        ddn.setCustomValidity("");
        break;
    case 'good_dn':
    case 'empty':
        dn.setCustomValidity("");
        ddn.setCustomValidity("");
        break;
}
